수정해야할 점 
1. 1번 정류장 잘 나오게 수정은 해야함 
 1번 정류장은 잘 안나올 수 가 없다.
 1번만 잘 잡아도 다 채울 수 있음 
2. 28번 및 58번은 무조건 채우게 만들어야한다. 
3. 지도 파싱할 때 mask_selected열 생성되게 만듬 
알아둬야할 점 
4. 28번인가 29번 지금 저장 안됨 
5. 28과 2번이 1초와 같이 조금 차이가 날 경우 
 2 -> 3까지 10분 넘게 걸리는 경우 많음 
 30번 이 수가 크기 때문에 그런 듯 회차지점에서는 예외처리가 필요하다 
6. 상행과 하행은 나누어서? 이건 나중에 생각해도 됨

결측치 채우는 컨셉 
6번 누락 
4 -> 7 걸린시간 : 15분
분당 평균 속도를 계산 이를 사용해서 결측치 채우기 

거리 (아산시에서 찾아보기)
거리 어떻게 구하지? 
정류장 정보의 경도와 위도 데이터를 네이버 api에 입력하여 거리를 이전 정류장과 이후 정류장으로 채워줌 

거리 버스정류장 csv에 채우기 
다음 정류장까지 걸리는 거리로 계산
1번은 공란? 이전 거리도 같이 저장? 


먼저 이 프로그램은 정류장간의 도착시간을 표시하는 데이터에서 1번 데이터 다음이 3번 데이터일 경우 2번 데이터를 채우기 위해 사용하는 프로그램이야. 
MASK_SELECTED를 기준으로 채워줄 거야 

채울 때 
6번이 누락됐을 경우  5 -> 7 걸린시간 : 15분
그리고 예를 들어 5에서 6번 정류장까지의 거리가 100미터이고 6번에서 7번 정류장까지의 거리가 50미터라면 
속도는 10미터당 1분 걸린 것으로 계산된다. 그러므로  100미터인 5번에서 6번 정류장까지는 10분 걸린 것으로 결측치가 채워지고 6번에서 7번 정류장까지의 거리는 5분 걸린 것으로 결측치가 채워지는 거야 이렇게 속도를 계산해서 결측치를 채울 거야 

정보는 버스정류장 데이터를 가져올 거야 여기에는
BUS_ROUTE(버스 번호),  STOP_ORD(정류장 번호), STOP_NAME(정류장 이름), LAT(위도), LNG(경도) STOP_ID(정류장 ID번호), previous(이 전 정류장과의 거리), next(이 후 정류장과의 거리, MASK_SELECTED 이렇게 열이 구성돼있어
여기서 previou와  next에는 이전 정류장과 이 후 정류장까지의 거리가 계산돼있어

그리고 데이터를 채우는 파일은 버스운행 데이터야 ex)13_충남70자1426_1과 같은 이름으로 돼어있어 그리고 이 파일에서 빈 값들을 채워야하는데 Nan인 데이터가 아니라 MASK_SELECTED를 기준으로 1번 이였다가 3번이 되는 경우처럼 빈 번호들을 채우는 거야   
BUS_ROUTE(버스 번호),  STOP_ORD(정류장 번호), STOP_NAME(정류장 이름), LAT(위도), LNG(경도) STOP_ID(정류장 ID번호), Information_Occurrence(버스가 정류장 도착한 시간 ex) 2020-06-02 07:32:02 PM), MASK_SELECTED(정류장을 1부터 끝까지 나열한 정보) MASK_SELECTED가 있는 이유는 상행 28번과 하행28번을 나눠서 표시해야하기 때문에 하행 28번일 경우에는 56번과 같이 정류장을 1번부터 끝까지 나열한 결과야 



필요한 함수 

이 함수는 같은 csv 파일에 값만 저장해서 저장함. 

1. csv 읽어들이는 함수 
2. csv로 저장하는 함수 
3. 날짜데이터 파싱 함수
time만 저장하면 됨 

4. 채우는 함수
가장 작은 수부터 순차적으로 올라가면서 탐색 만약 빈 정류장이 발견되면  그 다음 수까지 올라가서 계산 
평균 속도로 채우기 채울 경우 MASK_SELECTED에 파싱해서 채움 

5. 버스 정류장 수를 계산하는 함수 


흐름도 
버스정류장 csv를 읽어옴 
for문을 통해서 폴더 안의 폴더와 파일들을 모두 순회
 버스 운행 데이터 csv를 읽어옴 
 날짜에서 시간만 파싱해서 버스 운행 데이터에 저장 
 채우는 함수로 이동 
 for문 사용
  버스 정류장 번호 순환 하면서 빈 정류장이 있으면 빈 정류장 전 정류장 번호 저장 
  만약 다음 정류장이 있을 경우 원래대로 시간 계산   
    비었을 경우 그 다음 정류장으로 이동 다시 if문 들어감 
   시간 계산할 때 딕셔너리로 MASK_SELECTED : 계산된 시간 이렇게 저장해놓았다가 
   운행에서 비어있는 정류장번호에는 시간은 계산에 맞게 채우고 버스정류장 데이터에서 MASK_SELECTED로 저장된 번호에서 위도 경도 데이터 가져와서 채워넣는다  
 모든 번호 저장이 끝났을 경우 나옴 

그대로 csv 같은 이름으로 저장 
